# MultiEnvRunner 클래스

`MultiEnvRunner`는 여러 개의 환경을 동기적으로 분산 처리를 하는 
다중 환경 러너로 `Runner`를 상속하고 있다.

![러너 클래스의 구성도](img/class_diagram.png)

## MultiEnvRunner

###  속성
* **환경 루프 리스트(`environment_loops`)**: 분산 환경에서 실행하는 환경 루프의 리스트를 관리한다.

###  메서드
* **`__init__`**: 부모 클래스 Runner의 초기화 메서드를 호출해 러너를 초기화한다.
* **`make_environment_loops`**: 환경 루프 클래스를 Ray의 리모트 클래스로 재정의하고 환경의 개수만큼 환경 루프를 생성한다.
* **`run_environment_loops`**: 전체 환경 루프에 대해 에이전트와 환경의 상호작용을 원격 실행하고 전체 환경 루프의 실행이 종료될 때까지 대기했다가 결과를 받아서 합친다(동기적 실행).
* **`_merge_result`**: 전체 환경 루프의 실행 결과를 합친다. 이때 숫자 데이터는 더하고 그 외의 데이터는 리스트로 변환한다.
* **`update_actors`**: 에이전트의 네트워크 파라미터를 전체 액터의 복사본에 동기화하고 전체 실행이 완료될 때까지 대기한다(동기적 실행).
* **`reset_stats_environment_loops`**: 전체 환경 루프의 통계 정보를 초기화하고 전체 환경 루프의 실행이 완료될 때까지 대기한다(동기적 실행).